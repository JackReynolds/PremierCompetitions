{% extends 'base.html' %}

{% block title %} | Winners {% endblock %}

{% block content%}

<section id="winners-showcase-inner" class="text-white">
   <div class="container">
     <div class="row text-center">
       <div class="col-md-12">
         <h1 class="display-4 page-heading animated fadeIn slow">Winners Showreel</h1>
         <!-- <p class="lead">Take a look through our previous winners and the prizes they won</p> -->
       </div>
     </div>
   </div>
 </section>

<!-- Breadcrumb -->
<section id="bc" class="mt-3">
<div class="container">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="index.html">
          <i class="fas fa-home"></i> Home</a>
      </li>
      <li class="breadcrumb-item active">Winners</li>
    </ol>
  </nav>
</div>
</section>

<section id="active-competitions" class="my-2 py-3">
   <div class="container wrapper">
     <div class="row">
       {% if winners %}
       {% for winner in winners %}
       <!-- Winners -->
       <div class="col-md-6 col-lg-4 mb-4">
            <div class="card listing-preview">
              <img class="card-img-top winners-card-main-image" src="{{ winner.photo_main.url }}" alt="">
              <div class="card-body">
                <div class="listing-heading text-center">
                  <h4 class="text-primary">{{ winner.competition }}</h4>
                </div>
                <hr>
                <div class="row py-2 text-dark">
                  <div class="col text-center">
                    <i class="fas fa-ticket-alt"></i> <span class="winners-text">Number of tickets: {{ winner.number_of_tickets }}</span></div>
                </div>
                <hr>
                <div class="row py-2 text-dark">
                     <div class="col text-center winners-text">
                       <i class="fas fa-euro-sign"></i> Ticket Price: {{ winner.price_of_ticket }}</div>
                   </div>
                   <hr>
                <div class="row text-dark pb-2">
                  <div class="col text-center winners-text">
                    <i class="fas fa-trophy"></i> <strong>Winner: {{ winner.first_name}} {{ winner.last_name }}</strong></div>
                </div>
                <hr>
                <div class="row text-dark pb-2">
                  <div class="col text-center winners-text">
                    <i class="fas fa-award"></i> <strong>Winning Ticket Number: {{ winner.winning_ticket_number }}</strong></div>
                </div>
                <!-- <hr>
                <a href="#" class="btn btn-primary btn-block">More Info</a> -->
              </div>
            </div>
          </div>
          {% endfor %}
          {% else %}
          <div class="col-md-12">
              <h1>No Winners Yet</h1>
           </div>  
           {% endif %}
      </div>   

  <!-- Pagination -->
  <div class="row">
      <div class="col-md-12">
         {% if winners.has_other_pages %}
            <ul class="pagination">
               {% if winners.has_previous %}
                  <li class="page-item">
                     <a href="?page={{ winners.previous_page_number }}" class="page-link">&laquo;</a>
                  </li>
               {% else %}
                  <li class="page-item disabled">
                     <a class="page-link">&laquo;</a>
                  </li>
               {% endif %}
               {% for i in winners.paginator.page_range %}
                  {% if winners.number == i %}
                     <li class="page-item active">
                        <a class="page-link">{{i}}</a>
                     </li>
                  {% else %}
                     <li class="page-item">
                        <a href="?page={{i}}" class="page-link">{{i}}</a>
                     </li>
                  {% endif %}
               {% endfor %}
               {% if winners.has_next %}
               <li class="page-item">
                  <a href="?page={{ winners.next_page_number }}" class="page-link">&raquo;</a>
               </li>
            {% else %}
               <li class="page-item disabled">
                  <a class="page-link">&raquo;</a>
               </li>
            {% endif %}
            </ul>
        {% endif %}
      </div>
    </div>
   </div>
 </section>


{% endblock %}